---
title: "EVR 628 - Intro to Environmental Data Science"
subtitle: "Data visualization"
---

```{r}
suppressPackageStartupMessages({
  library(tidyverse)
  library(EVR628tools)
  library(knitr)
})

data_lionfish <- data_lionfish |> 
  mutate(size_class = case_when(total_length_mm < 100 ~ "small",
                                between(total_length_mm, 100, 200) ~ "medium",
                                total_length_mm > 200 ~ "large"))

theme_set(
  theme_bw(base_size = 20)
)
```


# Types of visualization

## Types of data

The _type_ of data you have can influence how you visualize them

- Numerical: (AKA "quantitative") data expressed in numbers, instead of words
    - Discrete numerical: Counts, integer numbers
    - Continuous numerical: Think decimal numbers
- Categorical: 
- Ordinal:

## Examples: lionfish biometry

![](img/lionfish.JPG){.nostretch fig-align="center" width="40%"}

- `data_lionfish`, from the `EVR628tools` package
- contains biometric measurements for 109 lionfish (_Pterois volitans_) captured off Puerto Aventuras (Mexico)

. . .

:::: {.callout-tip}
Use `?data_lionfish` to look at the documentation
::::

## Examples: lionfish biometry

```{r}
#| folding: true
data_lionfish[1:6,c(1:2, 5)] |> 
  kable()
```

. . .

What type of data is `id`?

. . . 

How about `total_length_mm`?

. . .

And `size_class`?


## Some jargon

- Variable: A measurable quality, quantity or property
- Value: The state of the variable
- Observation: A data point to which variables and values are assigned
- _Tabular_ data: The way we store and represent information. Allows us to relate a variable (column) to an observation (row)

. . .

:::: {.columns}
::: {.column width="60%"}

```{r}
#| folding: true
data_lionfish[1:3,c(2, 5:6)] |> 
  kable()
```
:::
::: {.column width="40%"}
- Which of these is a variable?
- A value of that variable?
- How many observations?
:::
::::


## Types of visualizations

scatter plot, column chart (stacked columns, dodge columns), histogram, violin plots, boxplots, pie charts (eww), heatmaps, line graphs, area charts, stacked area, density, ...

- You want your _type_ of data to match your _type_ of visualization
- Some data types may be incompatible with some visualizations
- You should have creative freedom

## Examples

:::: {.columns}
::: {.column width="60%"}
```{r}
ggplot(data = data_lionfish,
       mapping = aes(x = total_length_mm,
                     y = total_weight_gr)) +
  geom_point() +
  labs(x = "Total length (mm)",
       y = "Total weight (gr)")
```
:::

::: {.column width="40%"}
### Scatterplot:

:::
::::


# Visualization principles

- There are only two rules:
  - Transparency (don't hide or manipulate data, or be clear about how you do so)
  - Clarity (get your message through)

# Other considerations (contrast, colorblindness, standards)

IPCCâ€™s visual style guide, and the [`viridis`](https://github.com/sjmgarnier/viridis/) package

# THE grammar of graphics
The grammar of graphics and the [`ggplot2`](https://github.com/tidyverse/ggplot2) package



